<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Back House Begeistert · v4</title>
  <meta name="theme-color" content="#111827"/>
  <link rel="manifest" href="./manifest.webmanifest?v=4"/>
  <link rel="icon" href="./icons/icon-192.png"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>body{background:#f9fafb}</style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const {useState,useEffect} = React;
    const cls=(...c)=>c.filter(Boolean).join(" ");
    const Button=({children,className,...p})=>(<button className={cls("px-4 py-2 rounded-2xl shadow-sm border hover:shadow transition text-sm font-medium",className)} {...p}>{children}</button>);
    const Card=({children,className,onClick})=>(<div onClick={onClick} className={cls("rounded-2xl border shadow-sm p-4 bg-white",className)}>{children}</div>);
    const Input=(p)=>(<input {...p} className={cls("w-full border rounded-xl px-3 py-2 outline-none focus:ring",p.className)} />);
    const Select=({options,value,onChange,className,multiple})=>(
      <select value={value} onChange={onChange} className={cls("w-full border rounded-xl px-3 py-2",className)} multiple={multiple}>
        {options.map(o=><option key={o.value} value={o.value}>{o.label}</option>)}
      </select>
    );

    const RESTS=[
      {id:1, name:"Bistro Service 1/2"},
      {id:2, name:"Bistro Service 3"},
      {id:3, name:"Bistro Service 4/5"},
      {id:4, name:"Bistro Service 6/7"},
      {id:5, name:"Bistro Service 7"},
      {id:6, name:"Bistro Service 8/9"},
      {id:7, name:"Bistro Halle 9"},
      {id:8, name:"Bistro Halle 12"},
      {id:9, name:"Bistro Halle 3A (1. OG)"},
      {id:10, name:"Café Point Mitte"},
      {id:11, name:"Café Point Ost"},
      {id:12, name:"Café Point Halle 3C (1. OG)"},
      {id:13, name:"Café Point 5/6"},
      {id:14, name:"Restaurant Süd (1. OG)"},
      {id:15, name:"Restaurant Süd-Ost"},
      {id:16, name:"Restaurant SB-Nord (1. OG)"},
      {id:17, name:"Restaurant Behaims"},
      {id:18, name:"Restaurant West (1. OG)"},
      {id:19, name:"Restaurant Vasco da Gama (1. OG)"},
      {id:20, name:"Restaurant Marco Polo (3. OG)"},
      {id:21, name:"Abholmarkt / Pick-up Station"}
    ];

    const USERS=[
      {user:"baljit", name:"Baljit Sighn", role:"Putzenkraft"},
      {user:"sabrina", name:"Sabrina Wurzbacher", role:"Putzenkraft"},
      {user:"maikel", name:"Maikel Velasquez", role:"Supervisor"},
      {user:"roman", name:"Roman Domjanic", role:"Supervisor"},
      {user:"svetlana", name:"Svetlana Frank", role:"Supervisor"}
    ];

    const SUBTASK_CATALOG=[
      "Bodenreinigung",
      "Reinigung der Küchenoberflächen",
      "Reinigung der Toiletten",
      "Reinigung & Entfettung"
    ];
    const todayISO=()=>new Date().toISOString().slice(0,10);

    function App(){
      const [role,setRole]=useState(localStorage.getItem("bhb_role")||"");
      const [auth,setAuth]=useState(()=>{const r=localStorage.getItem("bhb_auth"); return r?JSON.parse(r):null});
      const [tasks,setTasks]=useState(()=>{const r=localStorage.getItem("bhb_tasks"); return r?JSON.parse(r):[]});
      const [events,setEvents]=useState(()=>{
        const r=localStorage.getItem("bhb_events");
        return r?JSON.parse(r):[
          {id:"E1", name:"BIOFACH", start:"2026-02-11", end:"2026-02-14"},
          {id:"E2", name:"Embedded World", start:"2026-03-11", end:"2026-03-13"},
          {id:"E3", name:"SPS", start:"2026-11-17", end:"2026-11-19", sps:true}
        ];
      });
      const [eventOutlets,setEventOutlets]=useState(()=>{
        const r=localStorage.getItem("bhb_event_outlets");
        return r?JSON.parse(r):{};
      });
      const [showData,setShowData]=useState(false)
  </script>
</body>
</html>
